<?php

declare(strict_types=1);

use Hyva\Theme\Model\ViewModelRegistry;
use Hyva\Theme\ViewModel\HeroiconsOutline;
use Magento\Framework\Escaper;
use Magento\Framework\View\Element\Template;

/** @var Template $block */
/** @var ViewModelRegistry $viewModels */
/** @var Escaper $escaper */
/** @var HeroiconsOutline $heroicons */

$heroicons = $viewModels->require(HeroiconsOutline::class);
?>
<li
    class="border-b border-b-gray-200"
>
    <button
        class="text-left hover:bg-gray-100 px-2.5 py-3.5 w-full"
        :aria-label="getConversationLabel(conversation)"
        @click="openConversation(conversation)"
    >
        <div class="flex justify-between gap-1">
            <span class="font-medium" x-html="formatConversationTitle(conversation.created_at)"></span>
            <p class="text-gray-500 text-sm" x-text="formatLastMessageDate(conversation)"></p>
        </div>
        <p class="text-sm mt-0.5" x-text="formatConversationMessagePreview(conversation)"></p>
    </button>
</li>
